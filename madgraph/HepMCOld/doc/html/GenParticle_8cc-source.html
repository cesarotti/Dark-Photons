<head>
<title>HepMC Reference Documentation </title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#FFFFFF">

<!-------------------------------- Header ---------------------------->
<table width="100%" border="1" height="70" cellpadding="10">
  <tr bgcolor="#FFFFCC"> 
    <td width="16%" height="64" valign="middle" align="center" bgcolor="#FFFFCC">
     <!-- #BeginLibraryItem" -->
      <img src="http://spi.cern.ch//LCG logo.jpg" width="61" height="61">
     <!-- #EndLibraryItem --> 
    </td>
    <td width="84%" height="64" valign="middle" align="center">
	<h1>HepMC Reference Documentation</h1> 
	<a href=http://lcgapp.cern.ch/project/simu/HepMC/>HepMC</a>
    </td> 
  </tr>
</table>
<p>
<!-- Generated by Doxygen 1.5.1-3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_6f5e1fd014b545bac6b7a8ff1c591f69.html">src</a></div>
<h1>GenParticle.cc</h1><a href="GenParticle_8cc.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">// Matt.Dobbs@Cern.CH, September 1999</span>
<a name="l00003"></a>00003 <span class="comment">// Updated: 07.02.2000 no longer does particle point to ParticleData, </span>
<a name="l00004"></a>00004 <span class="comment">//                     but rather it uses an int id which can be looked up</span>
<a name="l00005"></a>00005 <span class="comment">// particle within an event coming in/out of a vertex</span>
<a name="l00007"></a>00007 <span class="comment"></span><span class="preprocessor">#include "<a class="code" href="GenEvent_8h.html">HepMC/GenEvent.h</a>"</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include "<a class="code" href="GenVertex_8h.html">HepMC/GenVertex.h</a>"</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include "<a class="code" href="GenParticle_8h.html">HepMC/GenParticle.h</a>"</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;iomanip&gt;</span>       <span class="comment">// needed for formatted output</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="keyword">namespace </span>HepMC {
<a name="l00013"></a>00013 
<a name="l00014"></a><a class="code" href="classHepMC_1_1GenParticle.html#322620e7005bc5afca1e3173645fb7c8">00014</a>     <a class="code" href="classHepMC_1_1GenParticle.html#322620e7005bc5afca1e3173645fb7c8" title="default constructor">GenParticle::GenParticle</a>( <span class="keywordtype">void</span> ) :
<a name="l00015"></a>00015         m_momentum(0), m_pdg_id(0), m_status(0), m_flow(this),
<a name="l00016"></a>00016         m_polarization(0), m_production_vertex(0), m_end_vertex(0),
<a name="l00017"></a>00017         m_barcode(0), m_generated_mass(0.),
<a name="l00018"></a>00018         m_serialnumber(++s_serialize)
<a name="l00019"></a>00019     {
<a name="l00020"></a>00020         s_counter++;
<a name="l00021"></a>00021     }
<a name="l00022"></a>00022 
<a name="l00023"></a><a class="code" href="classHepMC_1_1GenParticle.html#3572cad11cf32276213e030d2efd9982">00023</a>     GenParticle::GenParticle( <span class="keyword">const</span> <a class="code" href="classHepMC_1_1FourVector.html" title="FourVector is a simple representation of a physics 4 vector.">FourVector</a>&amp; momentum, 
<a name="l00024"></a>00024                         <span class="keywordtype">int</span> pdg_id, <span class="keywordtype">int</span> status, 
<a name="l00025"></a>00025                         <span class="keyword">const</span> <a class="code" href="classHepMC_1_1Flow.html" title="The flow object.">Flow</a>&amp; itsflow,
<a name="l00026"></a>00026                         <span class="keyword">const</span> <a class="code" href="classHepMC_1_1Polarization.html" title="The Polarization class stores theta and phi for a GenParticle.">Polarization</a>&amp; polar ) : 
<a name="l00027"></a>00027         m_momentum(momentum), m_pdg_id(pdg_id), m_status(status), m_flow(this),
<a name="l00028"></a>00028         m_polarization(polar), m_production_vertex(0), m_end_vertex(0),
<a name="l00029"></a>00029         m_barcode(0), m_generated_mass(momentum.m()),
<a name="l00030"></a>00030         m_serialnumber(++s_serialize)
<a name="l00031"></a>00031     {
<a name="l00032"></a>00032         <span class="comment">// Establishing *this as the owner of m_flow is done above,</span>
<a name="l00033"></a>00033         <span class="comment">// then we set it equal to the other flow pattern (subtle)</span>
<a name="l00034"></a>00034         <a class="code" href="classHepMC_1_1GenParticle.html#122511a81a4f32e14c41e5710cd7b990" title="set particle flow">set_flow</a>(itsflow);
<a name="l00035"></a>00035         s_counter++;
<a name="l00036"></a>00036     }
<a name="l00037"></a>00037 
<a name="l00038"></a><a class="code" href="classHepMC_1_1GenParticle.html#cc472db0629a431faa47d76dc1934e69">00038</a>     <a class="code" href="classHepMC_1_1GenParticle.html#322620e7005bc5afca1e3173645fb7c8" title="default constructor">GenParticle::GenParticle</a>( <span class="keyword">const</span> <a class="code" href="classHepMC_1_1GenParticle.html" title="The GenParticle class contains information about generated particles.">GenParticle</a>&amp; inparticle ) : 
<a name="l00039"></a>00039         m_momentum( inparticle.<a class="code" href="classHepMC_1_1GenParticle.html#30c479bb05df669b6cda2f1304ef93e4" title="standard 4 momentum">momentum</a>() ),
<a name="l00040"></a>00040         m_pdg_id( inparticle.<a class="code" href="classHepMC_1_1GenParticle.html#81edf44c3133480917856be48a96cd66" title="particle ID">pdg_id</a>() ), 
<a name="l00041"></a>00041         m_status( inparticle.<a class="code" href="classHepMC_1_1GenParticle.html#a31b7a1882395b905d89dafb78d103b6" title="HEPEVT decay status.">status</a>() ), 
<a name="l00042"></a>00042         m_flow(this),
<a name="l00043"></a>00043         m_polarization( inparticle.<a class="code" href="classHepMC_1_1GenParticle.html#9fc6f32f0255a89ea40edf28732228c0" title="polarization information">polarization</a>() ),
<a name="l00044"></a>00044         m_production_vertex(0), 
<a name="l00045"></a>00045         m_end_vertex(0), 
<a name="l00046"></a>00046         m_barcode(0), 
<a name="l00047"></a>00047         m_generated_mass( inparticle.<a class="code" href="classHepMC_1_1GenParticle.html#ee263084bedde9254371924deb8bba61" title="mass as generated">generated_mass</a>() ),
<a name="l00048"></a>00048         m_serialnumber( inparticle.<a class="code" href="classHepMC_1_1GenParticle.html#9fa512a5bc641b92ecc0fb636daa26d9" title="used by GenParticleComparison">serialnumber</a>() )
<a name="l00049"></a>00049     {
<a name="l00054"></a>00054         <a class="code" href="classHepMC_1_1GenParticle.html#4706f11b418dc7a9cec65c83a71bac53" title="set production vertex">set_production_vertex_</a>( 0 );
<a name="l00055"></a>00055         <a class="code" href="classHepMC_1_1GenParticle.html#f96a32a284976342a6b0721636a33966" title="set decay vertex">set_end_vertex_</a>( 0 );
<a name="l00056"></a>00056         <a class="code" href="classHepMC_1_1GenParticle.html#9b5552a166c23063a9b1682bb7577496" title="In general there is no reason to "suggest_barcode".">suggest_barcode</a>( inparticle.<a class="code" href="classHepMC_1_1GenParticle.html#5fc2f7b9c19c5adbec24efc10067c546" title="particle barcode">barcode</a>() );
<a name="l00057"></a>00057         s_counter++;
<a name="l00058"></a>00058     }
<a name="l00059"></a>00059 
<a name="l00060"></a><a class="code" href="classHepMC_1_1GenParticle.html#4a257fe2bf9a8ed54dcb7871775b0c09">00060</a>     <a class="code" href="classHepMC_1_1GenParticle.html#4a257fe2bf9a8ed54dcb7871775b0c09">GenParticle::~GenParticle</a>() {    
<a name="l00061"></a>00061         <span class="keywordflow">if</span> ( <a class="code" href="classHepMC_1_1GenParticle.html#e1c0803fa8246a997ab556b5a42d27ec" title="pointer to the event that owns this particle">parent_event</a>() ) <a class="code" href="classHepMC_1_1GenParticle.html#e1c0803fa8246a997ab556b5a42d27ec" title="pointer to the event that owns this particle">parent_event</a>()-&gt;<a class="code" href="classHepMC_1_1GenEvent.html#03f0ec9f9e2adc00f5212b574c63ba0d" title="intended for use by GenParticle">remove_barcode</a>(<span class="keyword">this</span>);
<a name="l00062"></a>00062         s_counter--;
<a name="l00063"></a>00063     }
<a name="l00064"></a>00064 
<a name="l00065"></a><a class="code" href="classHepMC_1_1GenParticle.html#86ea07eef445e6f13f228d5a7310383c">00065</a>     <span class="keywordtype">void</span> <a class="code" href="classHepMC_1_1GenParticle.html#86ea07eef445e6f13f228d5a7310383c" title="swap">GenParticle::swap</a>( <a class="code" href="classHepMC_1_1GenParticle.html" title="The GenParticle class contains information about generated particles.">GenParticle</a> &amp; other)
<a name="l00066"></a>00066     {
<a name="l00067"></a>00067         <span class="comment">// if a container has a swap method, use that for improved performance</span>
<a name="l00068"></a>00068         m_momentum.<a class="code" href="classHepMC_1_1FourVector.html#ceaebca40c2dc3990f877c05867c6b21" title="swap">swap</a>( other.<a class="code" href="classHepMC_1_1GenParticle.html#9eccb932b7c4fac6d4aa171a92e974a8">m_momentum</a> );
<a name="l00069"></a>00069         std::swap( m_pdg_id, other.<a class="code" href="classHepMC_1_1GenParticle.html#cc07295a55912b09fdccf8f4ef632e4d">m_pdg_id</a> );
<a name="l00070"></a>00070         std::swap( m_status, other.<a class="code" href="classHepMC_1_1GenParticle.html#59df58471a03c7045e8e5a8e26879661">m_status</a> );
<a name="l00071"></a>00071         m_flow.<a class="code" href="classHepMC_1_1Flow.html#d65aeea0c6b372246d0980ba45204e4d" title="swap">swap</a>( other.<a class="code" href="classHepMC_1_1GenParticle.html#3ad09e404463dda7e9e5a3a98518c13f">m_flow</a> );
<a name="l00072"></a>00072         m_polarization.<a class="code" href="classHepMC_1_1Polarization.html#0adf109d334f9bbb01b2059efc982cf5" title="swap">swap</a>( other.<a class="code" href="classHepMC_1_1GenParticle.html#6a2ec3aa879b0faa3c1b7cefd9718f7d">m_polarization</a> );
<a name="l00073"></a>00073         std::swap( m_production_vertex, other.<a class="code" href="classHepMC_1_1GenParticle.html#74d7704e36391898b635a44cf7487f62">m_production_vertex</a> );
<a name="l00074"></a>00074         std::swap( m_end_vertex, other.<a class="code" href="classHepMC_1_1GenParticle.html#87154038389efb9aef42e47697f6ffdc">m_end_vertex</a> );
<a name="l00075"></a>00075         std::swap( m_barcode, other.<a class="code" href="classHepMC_1_1GenParticle.html#b6e2a22f1126524a325893091512c29f">m_barcode</a> );
<a name="l00076"></a>00076         std::swap( m_generated_mass, other.<a class="code" href="classHepMC_1_1GenParticle.html#1877bd500c1462701adef83197f7e024">m_generated_mass</a> );
<a name="l00077"></a>00077         std::swap( m_serialnumber, other.<a class="code" href="classHepMC_1_1GenParticle.html#99ac69c5d267cb30d18a9fbeb634c224">m_serialnumber</a> );
<a name="l00078"></a>00078     }
<a name="l00079"></a>00079 
<a name="l00080"></a><a class="code" href="classHepMC_1_1GenParticle.html#726aa6602727a95a39e65cb9144e0dc9">00080</a>     <a class="code" href="classHepMC_1_1GenParticle.html" title="The GenParticle class contains information about generated particles.">GenParticle</a>&amp; <a class="code" href="classHepMC_1_1GenParticle.html#726aa6602727a95a39e65cb9144e0dc9">GenParticle::operator=</a>( <span class="keyword">const</span> <a class="code" href="classHepMC_1_1GenParticle.html" title="The GenParticle class contains information about generated particles.">GenParticle</a>&amp; inparticle ) {
<a name="l00085"></a>00085 
<a name="l00086"></a>00086         <span class="comment">// best practices implementation</span>
<a name="l00087"></a>00087         <a class="code" href="classHepMC_1_1GenParticle.html" title="The GenParticle class contains information about generated particles.">GenParticle</a> tmp( inparticle );
<a name="l00088"></a>00088         <a class="code" href="classHepMC_1_1GenParticle.html#86ea07eef445e6f13f228d5a7310383c" title="swap">swap</a>( tmp );
<a name="l00089"></a>00089         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00090"></a>00090     }
<a name="l00091"></a>00091 
<a name="l00092"></a><a class="code" href="classHepMC_1_1GenParticle.html#b75a0cb48297485e564901a99c77dfcf">00092</a>     <span class="keywordtype">bool</span> <a class="code" href="classHepMC_1_1GenParticle.html#b75a0cb48297485e564901a99c77dfcf" title="check for equality">GenParticle::operator==</a>( <span class="keyword">const</span> <a class="code" href="classHepMC_1_1GenParticle.html" title="The GenParticle class contains information about generated particles.">GenParticle</a>&amp; a )<span class="keyword"> const </span>{
<a name="l00096"></a>00096         <span class="keywordflow">if</span> ( a.<a class="code" href="classHepMC_1_1GenParticle.html#30c479bb05df669b6cda2f1304ef93e4" title="standard 4 momentum">momentum</a>() != this-&gt;<a class="code" href="classHepMC_1_1GenParticle.html#30c479bb05df669b6cda2f1304ef93e4" title="standard 4 momentum">momentum</a>() ) <span class="keywordflow">return</span> 0;
<a name="l00097"></a>00097         <span class="keywordflow">if</span> ( a.<a class="code" href="classHepMC_1_1GenParticle.html#ee263084bedde9254371924deb8bba61" title="mass as generated">generated_mass</a>() != this-&gt;<a class="code" href="classHepMC_1_1GenParticle.html#ee263084bedde9254371924deb8bba61" title="mass as generated">generated_mass</a>() ) <span class="keywordflow">return</span> 0;
<a name="l00098"></a>00098         <span class="keywordflow">if</span> ( a.<a class="code" href="classHepMC_1_1GenParticle.html#81edf44c3133480917856be48a96cd66" title="particle ID">pdg_id</a>() != this-&gt;<a class="code" href="classHepMC_1_1GenParticle.html#81edf44c3133480917856be48a96cd66" title="particle ID">pdg_id</a>() ) <span class="keywordflow">return</span> 0;
<a name="l00099"></a>00099         <span class="keywordflow">if</span> ( a.<a class="code" href="classHepMC_1_1GenParticle.html#a31b7a1882395b905d89dafb78d103b6" title="HEPEVT decay status.">status</a>() != this-&gt;<a class="code" href="classHepMC_1_1GenParticle.html#a31b7a1882395b905d89dafb78d103b6" title="HEPEVT decay status.">status</a>() ) <span class="keywordflow">return</span> 0;
<a name="l00100"></a>00100         <span class="keywordflow">if</span> ( a.<a class="code" href="classHepMC_1_1GenParticle.html#3ad09e404463dda7e9e5a3a98518c13f">m_flow</a> != this-&gt;m_flow ) <span class="keywordflow">return</span> 0;
<a name="l00101"></a>00101         <span class="keywordflow">if</span> ( a.<a class="code" href="classHepMC_1_1GenParticle.html#9fc6f32f0255a89ea40edf28732228c0" title="polarization information">polarization</a>() != this-&gt;<a class="code" href="classHepMC_1_1GenParticle.html#9fc6f32f0255a89ea40edf28732228c0" title="polarization information">polarization</a>() ) <span class="keywordflow">return</span> 0;
<a name="l00102"></a>00102         <span class="keywordflow">return</span> 1;
<a name="l00103"></a>00103     }
<a name="l00104"></a>00104 
<a name="l00105"></a><a class="code" href="classHepMC_1_1GenParticle.html#269bc79dadb39d8da5e0d7daa663ca86">00105</a>     <span class="keywordtype">bool</span> <a class="code" href="classHepMC_1_1GenParticle.html#269bc79dadb39d8da5e0d7daa663ca86" title="check for inequality">GenParticle::operator!=</a>( <span class="keyword">const</span> <a class="code" href="classHepMC_1_1GenParticle.html" title="The GenParticle class contains information about generated particles.">GenParticle</a>&amp; a )<span class="keyword"> const </span>{
<a name="l00106"></a>00106         <span class="keywordflow">return</span> !( a == *this );
<a name="l00107"></a>00107     }
<a name="l00108"></a>00108 
<a name="l00109"></a><a class="code" href="classHepMC_1_1GenParticle.html#b0756592cacbbedf057f152982fc9ce8">00109</a>     <span class="keywordtype">void</span> <a class="code" href="classHepMC_1_1GenParticle.html#b0756592cacbbedf057f152982fc9ce8" title="dump this particle's full info to ostr">GenParticle::print</a>( std::ostream&amp; ostr )<span class="keyword"> const </span>{
<a name="l00112"></a>00112         ostr &lt;&lt; <span class="stringliteral">"GenParticle: "</span> 
<a name="l00113"></a>00113              &lt;&lt; <a class="code" href="classHepMC_1_1GenParticle.html#5fc2f7b9c19c5adbec24efc10067c546" title="particle barcode">barcode</a>() &lt;&lt; <span class="stringliteral">" ID:"</span> &lt;&lt; <a class="code" href="classHepMC_1_1GenParticle.html#81edf44c3133480917856be48a96cd66" title="particle ID">pdg_id</a>()
<a name="l00114"></a>00114              &lt;&lt; <span class="stringliteral">" (P,E)="</span> &lt;&lt; <a class="code" href="classHepMC_1_1GenParticle.html#30c479bb05df669b6cda2f1304ef93e4" title="standard 4 momentum">momentum</a>().<a class="code" href="classHepMC_1_1FourVector.html#37692820265608bc60fa02bb4fe61f6c" title="return px">px</a>() &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; <a class="code" href="classHepMC_1_1GenParticle.html#30c479bb05df669b6cda2f1304ef93e4" title="standard 4 momentum">momentum</a>().<a class="code" href="classHepMC_1_1FourVector.html#38c279b388385f60764370c39b0e2366" title="return py">py</a>() 
<a name="l00115"></a>00115              &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; <a class="code" href="classHepMC_1_1GenParticle.html#30c479bb05df669b6cda2f1304ef93e4" title="standard 4 momentum">momentum</a>().<a class="code" href="classHepMC_1_1FourVector.html#a1999d1195ecc3bfb5d756d8fd0de135" title="return pz">pz</a>() &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; <a class="code" href="classHepMC_1_1GenParticle.html#30c479bb05df669b6cda2f1304ef93e4" title="standard 4 momentum">momentum</a>().<a class="code" href="classHepMC_1_1FourVector.html#d8d9c0a1032508a591d78d739116e10d" title="return E">e</a>()
<a name="l00116"></a>00116              &lt;&lt; <span class="stringliteral">" Stat:"</span> &lt;&lt; <a class="code" href="classHepMC_1_1GenParticle.html#a31b7a1882395b905d89dafb78d103b6" title="HEPEVT decay status.">status</a>();
<a name="l00117"></a>00117         <span class="keywordflow">if</span> ( <a class="code" href="classHepMC_1_1GenParticle.html#c4ff8209f2528b3150c8b489fa4d991a" title="pointer to the production vertex">production_vertex</a>() &amp;&amp; <a class="code" href="classHepMC_1_1GenParticle.html#c4ff8209f2528b3150c8b489fa4d991a" title="pointer to the production vertex">production_vertex</a>()-&gt;<a class="code" href="classHepMC_1_1GenParticle.html#5fc2f7b9c19c5adbec24efc10067c546" title="particle barcode">barcode</a>()!=0 ) {
<a name="l00118"></a>00118             ostr &lt;&lt; <span class="stringliteral">" PV:"</span> &lt;&lt; <a class="code" href="classHepMC_1_1GenParticle.html#c4ff8209f2528b3150c8b489fa4d991a" title="pointer to the production vertex">production_vertex</a>()-&gt;<a class="code" href="classHepMC_1_1GenVertex.html#8f35affbf9e3bd00ed7a5ecbc0f5fb53" title="unique identifier">barcode</a>();
<a name="l00119"></a>00119         } <span class="keywordflow">else</span> ostr &lt;&lt; <span class="stringliteral">" PV:"</span> &lt;&lt; <a class="code" href="classHepMC_1_1GenParticle.html#c4ff8209f2528b3150c8b489fa4d991a" title="pointer to the production vertex">production_vertex</a>();
<a name="l00120"></a>00120         <span class="keywordflow">if</span> ( <a class="code" href="classHepMC_1_1GenParticle.html#23a0feadeb701ccc0fe992cd02a8fe8e" title="pointer to the decay vertex">end_vertex</a>() &amp;&amp; <a class="code" href="classHepMC_1_1GenParticle.html#23a0feadeb701ccc0fe992cd02a8fe8e" title="pointer to the decay vertex">end_vertex</a>()-&gt;<a class="code" href="classHepMC_1_1GenParticle.html#5fc2f7b9c19c5adbec24efc10067c546" title="particle barcode">barcode</a>()!=0 ) {
<a name="l00121"></a>00121             ostr &lt;&lt; <span class="stringliteral">" EV:"</span> &lt;&lt; <a class="code" href="classHepMC_1_1GenParticle.html#23a0feadeb701ccc0fe992cd02a8fe8e" title="pointer to the decay vertex">end_vertex</a>()-&gt;<a class="code" href="classHepMC_1_1GenVertex.html#8f35affbf9e3bd00ed7a5ecbc0f5fb53" title="unique identifier">barcode</a>();
<a name="l00122"></a>00122         } <span class="keywordflow">else</span> ostr &lt;&lt; <span class="stringliteral">" EV:"</span> &lt;&lt; <a class="code" href="classHepMC_1_1GenParticle.html#23a0feadeb701ccc0fe992cd02a8fe8e" title="pointer to the decay vertex">end_vertex</a>();
<a name="l00123"></a>00123         ostr &lt;&lt; <span class="stringliteral">" Pol:"</span> &lt;&lt; <a class="code" href="classHepMC_1_1GenParticle.html#9fc6f32f0255a89ea40edf28732228c0" title="polarization information">polarization</a>() &lt;&lt; <span class="stringliteral">" F:"</span> &lt;&lt; m_flow &lt;&lt; std::endl;
<a name="l00124"></a>00124     }
<a name="l00125"></a>00125 
<a name="l00126"></a><a class="code" href="classHepMC_1_1GenParticle.html#e1c0803fa8246a997ab556b5a42d27ec">00126</a>     <a class="code" href="classHepMC_1_1GenEvent.html" title="The GenEvent class is the core of HepMC.">GenEvent</a>* <a class="code" href="classHepMC_1_1GenParticle.html#e1c0803fa8246a997ab556b5a42d27ec" title="pointer to the event that owns this particle">GenParticle::parent_event</a>()<span class="keyword"> const </span>{
<a name="l00127"></a>00127         <span class="keywordflow">if</span> ( <a class="code" href="classHepMC_1_1GenParticle.html#c4ff8209f2528b3150c8b489fa4d991a" title="pointer to the production vertex">production_vertex</a>() ) <span class="keywordflow">return</span> <a class="code" href="classHepMC_1_1GenParticle.html#c4ff8209f2528b3150c8b489fa4d991a" title="pointer to the production vertex">production_vertex</a>()-&gt;<a class="code" href="classHepMC_1_1GenVertex.html#166e6d45b051f1cabcf607d93cbec0a1" title="pointer to the event that owns this vertex">parent_event</a>();
<a name="l00128"></a>00128         <span class="keywordflow">if</span> ( <a class="code" href="classHepMC_1_1GenParticle.html#23a0feadeb701ccc0fe992cd02a8fe8e" title="pointer to the decay vertex">end_vertex</a>() ) <span class="keywordflow">return</span> <a class="code" href="classHepMC_1_1GenParticle.html#23a0feadeb701ccc0fe992cd02a8fe8e" title="pointer to the decay vertex">end_vertex</a>()-&gt;<a class="code" href="classHepMC_1_1GenVertex.html#166e6d45b051f1cabcf607d93cbec0a1" title="pointer to the event that owns this vertex">parent_event</a>();
<a name="l00129"></a>00129         <span class="keywordflow">return</span> 0;
<a name="l00130"></a>00130     }
<a name="l00131"></a>00131 
<a name="l00132"></a><a class="code" href="classHepMC_1_1GenParticle.html#4706f11b418dc7a9cec65c83a71bac53">00132</a>     <span class="keywordtype">void</span> <a class="code" href="classHepMC_1_1GenParticle.html#4706f11b418dc7a9cec65c83a71bac53" title="set production vertex">GenParticle::set_production_vertex_</a>( <a class="code" href="classHepMC_1_1GenVertex.html" title="GenVertex contains information about decay vertices.">GenVertex</a>* prodvertex )
<a name="l00133"></a>00133     { 
<a name="l00134"></a>00134         <a class="code" href="classHepMC_1_1GenEvent.html" title="The GenEvent class is the core of HepMC.">GenEvent</a>* its_orig_event = <a class="code" href="classHepMC_1_1GenParticle.html#e1c0803fa8246a997ab556b5a42d27ec" title="pointer to the event that owns this particle">parent_event</a>();
<a name="l00135"></a>00135         m_production_vertex = prodvertex; 
<a name="l00136"></a>00136         <a class="code" href="classHepMC_1_1GenEvent.html" title="The GenEvent class is the core of HepMC.">GenEvent</a>* its_new_event = <a class="code" href="classHepMC_1_1GenParticle.html#e1c0803fa8246a997ab556b5a42d27ec" title="pointer to the event that owns this particle">parent_event</a>();
<a name="l00137"></a>00137         <span class="comment">// Next bit of logic ensures the barcode maps are kept up to date</span>
<a name="l00138"></a>00138         <span class="comment">//  in the GenEvent containers.</span>
<a name="l00139"></a>00139         <span class="keywordflow">if</span> ( its_orig_event != its_new_event ) {
<a name="l00140"></a>00140             <span class="keywordflow">if</span> ( its_new_event ) its_new_event-&gt;set_barcode( <span class="keyword">this</span>, <a class="code" href="classHepMC_1_1GenParticle.html#5fc2f7b9c19c5adbec24efc10067c546" title="particle barcode">barcode</a>() );
<a name="l00141"></a>00141             <span class="keywordflow">if</span> ( its_orig_event ) its_orig_event-&gt;<a class="code" href="classHepMC_1_1GenEvent.html#03f0ec9f9e2adc00f5212b574c63ba0d" title="intended for use by GenParticle">remove_barcode</a>( <span class="keyword">this</span> );
<a name="l00142"></a>00142         }
<a name="l00143"></a>00143     }
<a name="l00144"></a>00144 
<a name="l00145"></a><a class="code" href="classHepMC_1_1GenParticle.html#f96a32a284976342a6b0721636a33966">00145</a>     <span class="keywordtype">void</span> <a class="code" href="classHepMC_1_1GenParticle.html#f96a32a284976342a6b0721636a33966" title="set decay vertex">GenParticle::set_end_vertex_</a>( <a class="code" href="classHepMC_1_1GenVertex.html" title="GenVertex contains information about decay vertices.">GenVertex</a>* decayvertex ) 
<a name="l00146"></a>00146     { 
<a name="l00147"></a>00147         <a class="code" href="classHepMC_1_1GenEvent.html" title="The GenEvent class is the core of HepMC.">GenEvent</a>* its_orig_event = <a class="code" href="classHepMC_1_1GenParticle.html#e1c0803fa8246a997ab556b5a42d27ec" title="pointer to the event that owns this particle">parent_event</a>();
<a name="l00148"></a>00148         m_end_vertex = decayvertex;
<a name="l00149"></a>00149         <a class="code" href="classHepMC_1_1GenEvent.html" title="The GenEvent class is the core of HepMC.">GenEvent</a>* its_new_event = <a class="code" href="classHepMC_1_1GenParticle.html#e1c0803fa8246a997ab556b5a42d27ec" title="pointer to the event that owns this particle">parent_event</a>();
<a name="l00150"></a>00150         <span class="keywordflow">if</span> ( its_orig_event != its_new_event ) {
<a name="l00151"></a>00151             <span class="keywordflow">if</span> ( its_new_event ) its_new_event-&gt;set_barcode( <span class="keyword">this</span>, <a class="code" href="classHepMC_1_1GenParticle.html#5fc2f7b9c19c5adbec24efc10067c546" title="particle barcode">barcode</a>() );
<a name="l00152"></a>00152             <span class="keywordflow">if</span> ( its_orig_event ) its_orig_event-&gt;<a class="code" href="classHepMC_1_1GenEvent.html#03f0ec9f9e2adc00f5212b574c63ba0d" title="intended for use by GenParticle">remove_barcode</a>( <span class="keyword">this</span> );
<a name="l00153"></a>00153         }
<a name="l00154"></a>00154     }   
<a name="l00155"></a>00155 
<a name="l00156"></a><a class="code" href="classHepMC_1_1GenParticle.html#9b5552a166c23063a9b1682bb7577496">00156</a>     <span class="keywordtype">bool</span> <a class="code" href="classHepMC_1_1GenParticle.html#9b5552a166c23063a9b1682bb7577496" title="In general there is no reason to "suggest_barcode".">GenParticle::suggest_barcode</a>( <span class="keywordtype">int</span> the_bar_code )
<a name="l00157"></a>00157     {
<a name="l00167"></a>00167         <span class="keywordflow">if</span> ( the_bar_code &lt;0 ) {
<a name="l00168"></a>00168             std::cerr &lt;&lt; <span class="stringliteral">"GenParticle::suggest_barcode WARNING, particle bar "</span>
<a name="l00169"></a>00169                       &lt;&lt; <span class="stringliteral">"\n codes MUST be positive integers. Negative  "</span>
<a name="l00170"></a>00170                       &lt;&lt; <span class="stringliteral">"\n integers are reserved for vertices only. Your "</span>
<a name="l00171"></a>00171                       &lt;&lt; <span class="stringliteral">"\n suggestion has been rejected."</span> &lt;&lt; std::endl;
<a name="l00172"></a>00172             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00173"></a>00173         }
<a name="l00174"></a>00174         <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;
<a name="l00175"></a>00175         <span class="keywordflow">if</span> ( <a class="code" href="classHepMC_1_1GenParticle.html#e1c0803fa8246a997ab556b5a42d27ec" title="pointer to the event that owns this particle">parent_event</a>() ) {
<a name="l00176"></a>00176             success = <a class="code" href="classHepMC_1_1GenParticle.html#e1c0803fa8246a997ab556b5a42d27ec" title="pointer to the event that owns this particle">parent_event</a>()-&gt;<a class="code" href="classHepMC_1_1GenEvent.html#a91f815859d75cb9976f49d32a9b39c8" title="set the barcode - intended for use by GenParticle">set_barcode</a>( <span class="keyword">this</span>, the_bar_code );
<a name="l00177"></a>00177         } <span class="keywordflow">else</span> { <a class="code" href="classHepMC_1_1GenParticle.html#cc2e0e7ca90a9e8c6af00fedff24ecc7" title="for use by GenEvent only">set_barcode_</a>( the_bar_code ); }
<a name="l00178"></a>00178         <span class="keywordflow">return</span> success;
<a name="l00179"></a>00179     }
<a name="l00180"></a>00180 
<a name="l00182"></a>00182     <span class="comment">// Static  //</span>
<a name="l00184"></a><a class="code" href="classHepMC_1_1GenParticle.html#3d9391d4669c579ce99ad9bde8992fbe">00184</a> <span class="comment"></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classHepMC_1_1GenParticle.html#3d9391d4669c579ce99ad9bde8992fbe" title="temporary for debugging">GenParticle::counter</a>() { <span class="keywordflow">return</span> s_counter; }
<a name="l00185"></a>00185     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> GenParticle::s_counter = 0U; 
<a name="l00186"></a>00186 
<a name="l00187"></a><a class="code" href="classHepMC_1_1GenParticle.html#9fa512a5bc641b92ecc0fb636daa26d9">00187</a>     <a class="code" href="GenParticle_8h.html#84ae22787784acc7fbd68746c6d5b787">hepmc_uint64_t</a> <a class="code" href="classHepMC_1_1GenParticle.html#9fa512a5bc641b92ecc0fb636daa26d9" title="used by GenParticleComparison">GenParticle::serialnumber</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_serialnumber; }
<a name="l00188"></a>00188     <a class="code" href="GenParticle_8h.html#84ae22787784acc7fbd68746c6d5b787">hepmc_uint64_t</a> GenParticle::s_serialize = 0U; 
<a name="l00189"></a>00189 
<a name="l00191"></a>00191     <span class="comment">// Friends //</span>
<a name="l00193"></a>00193 <span class="comment"></span>
<a name="l00195"></a><a class="code" href="namespaceHepMC.html#6b1f073d198b31c554919d84ef937935">00195</a>     std::ostream&amp; <a class="code" href="classHepMC_1_1GenParticle.html#7ab5a70227c4a35fb85a73a4afde0f4d" title="print particle">operator&lt;&lt;</a>( std::ostream&amp; ostr, <span class="keyword">const</span> <a class="code" href="classHepMC_1_1GenParticle.html" title="The GenParticle class contains information about generated particles.">GenParticle</a>&amp; part ) {
<a name="l00196"></a>00196         ostr &lt;&lt; <span class="stringliteral">" "</span>;
<a name="l00197"></a>00197         ostr.width(9);
<a name="l00198"></a>00198         ostr &lt;&lt; part.<a class="code" href="classHepMC_1_1GenParticle.html#5fc2f7b9c19c5adbec24efc10067c546" title="particle barcode">barcode</a>();
<a name="l00199"></a>00199         ostr.width(9);
<a name="l00200"></a>00200         ostr &lt;&lt; part.<a class="code" href="classHepMC_1_1GenParticle.html#81edf44c3133480917856be48a96cd66" title="particle ID">pdg_id</a>() &lt;&lt; <span class="stringliteral">" "</span>;
<a name="l00201"></a>00201         ostr.width(9);
<a name="l00202"></a>00202         ostr.precision(2);
<a name="l00203"></a>00203         ostr.setf(std::ios::scientific, std::ios::floatfield);
<a name="l00204"></a>00204         ostr.setf(std::ios_base::showpos);
<a name="l00205"></a>00205         ostr &lt;&lt; part.<a class="code" href="classHepMC_1_1GenParticle.html#30c479bb05df669b6cda2f1304ef93e4" title="standard 4 momentum">momentum</a>().<a class="code" href="classHepMC_1_1FourVector.html#37692820265608bc60fa02bb4fe61f6c" title="return px">px</a>() &lt;&lt; <span class="stringliteral">","</span>;
<a name="l00206"></a>00206         ostr.width(9);
<a name="l00207"></a>00207         ostr.precision(2);
<a name="l00208"></a>00208         ostr &lt;&lt; part.<a class="code" href="classHepMC_1_1GenParticle.html#30c479bb05df669b6cda2f1304ef93e4" title="standard 4 momentum">momentum</a>().<a class="code" href="classHepMC_1_1FourVector.html#38c279b388385f60764370c39b0e2366" title="return py">py</a>() &lt;&lt; <span class="stringliteral">","</span>;
<a name="l00209"></a>00209         ostr.width(9);
<a name="l00210"></a>00210         ostr.precision(2);
<a name="l00211"></a>00211         ostr &lt;&lt; part.<a class="code" href="classHepMC_1_1GenParticle.html#30c479bb05df669b6cda2f1304ef93e4" title="standard 4 momentum">momentum</a>().<a class="code" href="classHepMC_1_1FourVector.html#a1999d1195ecc3bfb5d756d8fd0de135" title="return pz">pz</a>() &lt;&lt; <span class="stringliteral">","</span>;
<a name="l00212"></a>00212         ostr.width(9);
<a name="l00213"></a>00213         ostr.precision(2);
<a name="l00214"></a>00214         ostr &lt;&lt; part.<a class="code" href="classHepMC_1_1GenParticle.html#30c479bb05df669b6cda2f1304ef93e4" title="standard 4 momentum">momentum</a>().<a class="code" href="classHepMC_1_1FourVector.html#d8d9c0a1032508a591d78d739116e10d" title="return E">e</a>() &lt;&lt; <span class="stringliteral">" "</span>;
<a name="l00215"></a>00215         ostr.setf(std::ios::fmtflags(0), std::ios::floatfield);
<a name="l00216"></a>00216         ostr.unsetf(std::ios_base::showpos);
<a name="l00217"></a>00217         <span class="keywordflow">if</span> ( part.<a class="code" href="classHepMC_1_1GenParticle.html#23a0feadeb701ccc0fe992cd02a8fe8e" title="pointer to the decay vertex">end_vertex</a>() &amp;&amp; part.<a class="code" href="classHepMC_1_1GenParticle.html#23a0feadeb701ccc0fe992cd02a8fe8e" title="pointer to the decay vertex">end_vertex</a>()-&gt;<a class="code" href="classHepMC_1_1GenVertex.html#8f35affbf9e3bd00ed7a5ecbc0f5fb53" title="unique identifier">barcode</a>()!=0 ) {
<a name="l00218"></a>00218             ostr.width(3);
<a name="l00219"></a>00219             ostr &lt;&lt; part.<a class="code" href="classHepMC_1_1GenParticle.html#a31b7a1882395b905d89dafb78d103b6" title="HEPEVT decay status.">status</a>() &lt;&lt; <span class="stringliteral">" "</span>;
<a name="l00220"></a>00220             ostr.width(9);
<a name="l00221"></a>00221             ostr &lt;&lt; part.<a class="code" href="classHepMC_1_1GenParticle.html#23a0feadeb701ccc0fe992cd02a8fe8e" title="pointer to the decay vertex">end_vertex</a>()-&gt;<a class="code" href="classHepMC_1_1GenVertex.html#8f35affbf9e3bd00ed7a5ecbc0f5fb53" title="unique identifier">barcode</a>();
<a name="l00222"></a>00222         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !part.<a class="code" href="classHepMC_1_1GenParticle.html#23a0feadeb701ccc0fe992cd02a8fe8e" title="pointer to the decay vertex">end_vertex</a>() ) {
<a name="l00223"></a>00223             <span class="comment">// There is no valid end_vertex </span>
<a name="l00224"></a>00224             <span class="comment">// For consistency across different compilers, do not print anything</span>
<a name="l00225"></a>00225             ostr.width(3);
<a name="l00226"></a>00226             ostr &lt;&lt; part.<a class="code" href="classHepMC_1_1GenParticle.html#a31b7a1882395b905d89dafb78d103b6" title="HEPEVT decay status.">status</a>();
<a name="l00227"></a>00227         } <span class="keywordflow">else</span> {
<a name="l00228"></a>00228             <span class="comment">// In this case the end_vertex does not have a unique </span>
<a name="l00229"></a>00229             <span class="comment">//   barcode assigned, so we choose instead to print its address</span>
<a name="l00230"></a>00230             ostr.width(3);
<a name="l00231"></a>00231             ostr &lt;&lt; part.<a class="code" href="classHepMC_1_1GenParticle.html#a31b7a1882395b905d89dafb78d103b6" title="HEPEVT decay status.">status</a>() &lt;&lt; <span class="stringliteral">" "</span>;
<a name="l00232"></a>00232             ostr.width(9);
<a name="l00233"></a>00233             ostr &lt;&lt; (<span class="keywordtype">void</span>*)part.<a class="code" href="classHepMC_1_1GenParticle.html#23a0feadeb701ccc0fe992cd02a8fe8e" title="pointer to the decay vertex">end_vertex</a>();
<a name="l00234"></a>00234         }
<a name="l00235"></a>00235         <span class="keywordflow">return</span> ostr;
<a name="l00236"></a>00236     }
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 
<a name="l00239"></a><a class="code" href="classHepMC_1_1GenParticle.html#ee263084bedde9254371924deb8bba61">00239</a>     <span class="keywordtype">double</span>  <a class="code" href="classHepMC_1_1GenParticle.html#ee263084bedde9254371924deb8bba61" title="mass as generated">GenParticle::generated_mass</a>()<span class="keyword"> const </span>{
<a name="l00240"></a>00240         <span class="keywordflow">return</span> m_generated_mass;
<a name="l00241"></a>00241     }
<a name="l00242"></a>00242 
<a name="l00243"></a><a class="code" href="classHepMC_1_1GenParticle.html#81c0cd342de965ad59d9cc0cbd8afa29">00243</a>     <span class="keywordtype">void</span>   <a class="code" href="classHepMC_1_1GenParticle.html#81c0cd342de965ad59d9cc0cbd8afa29" title="define the actual generated mass">GenParticle::set_generated_mass</a>( <span class="keyword">const</span> <span class="keywordtype">double</span> &amp; m ) {
<a name="l00244"></a>00244         m_generated_mass = m;
<a name="l00245"></a>00245     }
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 } <span class="comment">// HepMC</span>
<a name="l00248"></a>00248 
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Tue Oct 23 17:05:35 2007 for HepMC by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-3 </small></address>
</body>
</html>
