<head>
<title>HepMC Reference Documentation </title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#FFFFFF">

<!-------------------------------- Header ---------------------------->
<table width="100%" border="1" height="70" cellpadding="10">
  <tr bgcolor="#FFFFCC"> 
    <td width="16%" height="64" valign="middle" align="center" bgcolor="#FFFFCC">
     <!-- #BeginLibraryItem" -->
      <img src="http://spi.cern.ch//LCG logo.jpg" width="61" height="61">
     <!-- #EndLibraryItem --> 
    </td>
    <td width="84%" height="64" valign="middle" align="center">
	<h1>HepMC Reference Documentation</h1> 
	<a href=http://lcgapp.cern.ch/project/simu/HepMC/>HepMC</a>
    </td> 
  </tr>
</table>
<p>
<!-- Generated by Doxygen 1.5.1-3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_6f5e1fd014b545bac6b7a8ff1c591f69.html">src</a></div>
<h1>Polarization.cc</h1><a href="Polarization_8cc.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">// Matt.Dobbs@Cern.CH, September 1999</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">// Polarization object for a particle. All angles are in radians.</span>
<a name="l00006"></a>00006 <span class="comment"></span>
<a name="l00007"></a>00007 <span class="preprocessor">#include "<a class="code" href="Polarization_8h.html">HepMC/Polarization.h</a>"</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="keyword">namespace </span>HepMC {
<a name="l00010"></a>00010 
<a name="l00011"></a><a class="code" href="classHepMC_1_1Polarization.html#41d87ddd9a57a8444cc89a7f5cd6d547">00011</a>     <a class="code" href="classHepMC_1_1Polarization.html#41d87ddd9a57a8444cc89a7f5cd6d547" title="default constructor">Polarization::Polarization</a>( <span class="keywordtype">double</span> theta, <span class="keywordtype">double</span> phi )
<a name="l00012"></a>00012     : m_theta( valid_theta(theta) ),
<a name="l00013"></a>00013       m_phi  ( valid_phi(phi) )
<a name="l00014"></a>00014     { }
<a name="l00015"></a>00015 
<a name="l00016"></a><a class="code" href="classHepMC_1_1Polarization.html#a41bf553f1698fdec492374243ba48e7">00016</a>     Polarization::Polarization( <span class="keyword">const</span> <a class="code" href="classHepMC_1_1Polarization.html" title="The Polarization class stores theta and phi for a GenParticle.">Polarization</a>&amp; inpolar )
<a name="l00017"></a>00017     : m_theta( valid_theta( inpolar.theta() ) ),
<a name="l00018"></a>00018       m_phi  ( valid_phi(   inpolar.phi()   ) )
<a name="l00019"></a>00019     { }
<a name="l00020"></a>00020 
<a name="l00021"></a><a class="code" href="classHepMC_1_1Polarization.html#61e1eb479a88e9c26f38f2762e2c7dad">00021</a>     <a class="code" href="classHepMC_1_1Polarization.html#41d87ddd9a57a8444cc89a7f5cd6d547" title="default constructor">Polarization::Polarization</a>( <span class="keyword">const</span> <a class="code" href="classHepMC_1_1ThreeVector.html" title="ThreeVector is a simple representation of a position or displacement 3 vector.">ThreeVector</a>&amp; vec3in ) 
<a name="l00022"></a>00022     : m_theta( valid_theta( vec3in.<a class="code" href="classHepMC_1_1Polarization.html#68330a72ac5c150ba8f85e530dec2fe7" title="returns polar angle in radians">theta</a>() ) ),
<a name="l00023"></a>00023       m_phi  ( valid_phi(   vec3in.<a class="code" href="classHepMC_1_1Polarization.html#95a8c37c9066dd61ba792e040463a2bc" title="returns azimuthal angle in radians">phi</a>()   ) )
<a name="l00024"></a>00024     { }
<a name="l00025"></a>00025 
<a name="l00026"></a><a class="code" href="classHepMC_1_1Polarization.html#0adf109d334f9bbb01b2059efc982cf5">00026</a>     <span class="keywordtype">void</span> <a class="code" href="classHepMC_1_1Polarization.html#0adf109d334f9bbb01b2059efc982cf5" title="swap">Polarization::swap</a>( <a class="code" href="classHepMC_1_1Polarization.html" title="The Polarization class stores theta and phi for a GenParticle.">Polarization</a> &amp; other)
<a name="l00027"></a>00027     {
<a name="l00028"></a>00028         std::swap( m_theta, other.<a class="code" href="classHepMC_1_1Polarization.html#6a2b5876ebb8d878ace6c7ae5837202a">m_theta</a> );
<a name="l00029"></a>00029         std::swap( m_phi,   other.<a class="code" href="classHepMC_1_1Polarization.html#2e9871fb410cc94306347b304a4f8af2">m_phi</a>   );
<a name="l00030"></a>00030     }
<a name="l00031"></a>00031 
<a name="l00032"></a><a class="code" href="classHepMC_1_1Polarization.html#85e59035bf8ac824643de371178ea5dd">00032</a>     <a class="code" href="classHepMC_1_1Polarization.html" title="The Polarization class stores theta and phi for a GenParticle.">Polarization</a>&amp; <a class="code" href="classHepMC_1_1Polarization.html#85e59035bf8ac824643de371178ea5dd" title="make a copy">Polarization::operator=</a>( <span class="keyword">const</span> <a class="code" href="classHepMC_1_1Polarization.html" title="The Polarization class stores theta and phi for a GenParticle.">Polarization</a>&amp; inpolar ) {
<a name="l00034"></a>00034         <a class="code" href="classHepMC_1_1Polarization.html" title="The Polarization class stores theta and phi for a GenParticle.">Polarization</a> tmp( inpolar );
<a name="l00035"></a>00035         <a class="code" href="classHepMC_1_1Polarization.html#0adf109d334f9bbb01b2059efc982cf5" title="swap">swap</a>( tmp ); 
<a name="l00036"></a>00036         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00037"></a>00037     }
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="classHepMC_1_1Polarization.html#f2777cf2496361afa292062cc1ed6c42">00039</a>     <span class="keywordtype">void</span> <a class="code" href="classHepMC_1_1Polarization.html#f2777cf2496361afa292062cc1ed6c42" title="print theta and phi">Polarization::print</a>( std::ostream&amp; ostr )<span class="keyword"> const </span>{
<a name="l00040"></a>00040         ostr &lt;&lt; <span class="stringliteral">"Polarization: "</span> &lt;&lt; *<span class="keyword">this</span> &lt;&lt; std::endl;
<a name="l00041"></a>00041     }
<a name="l00042"></a>00042 
<a name="l00044"></a>00044     <span class="comment">// access methods //</span>
<a name="l00046"></a>00046 <span class="comment"></span>
<a name="l00047"></a><a class="code" href="classHepMC_1_1Polarization.html#e195558d3353d02f5494fb0bfc517db2">00047</a>     <a class="code" href="classHepMC_1_1ThreeVector.html" title="ThreeVector is a simple representation of a position or displacement 3 vector.">ThreeVector</a>  <a class="code" href="classHepMC_1_1Polarization.html#e195558d3353d02f5494fb0bfc517db2" title="unit 3 vector for easy manipulation">Polarization::normal3d</a>()<span class="keyword"> const </span>{
<a name="l00048"></a>00048         <span class="comment">// unit Hep3Vector for easy manipulation</span>
<a name="l00049"></a>00049         <a class="code" href="classHepMC_1_1ThreeVector.html" title="ThreeVector is a simple representation of a position or displacement 3 vector.">ThreeVector</a> outvec(0,0,1);      <span class="comment">// makes unit vector along Z</span>
<a name="l00050"></a>00050         outvec.<a class="code" href="classHepMC_1_1ThreeVector.html#bda1b7e1a1e574ce7f6fb3147f688ab4" title="Set theta keeping mag and phi constant (BaBar).">setTheta</a>( <a class="code" href="classHepMC_1_1Polarization.html#68330a72ac5c150ba8f85e530dec2fe7" title="returns polar angle in radians">theta</a>() ); <span class="comment">// sets phi keeping mag and theta constant</span>
<a name="l00051"></a>00051         outvec.<a class="code" href="classHepMC_1_1ThreeVector.html#26b0d9cc65371cfd3e4362755c8c981b" title="Set phi keeping mag and theta constant (BaBar).">setPhi</a>( <a class="code" href="classHepMC_1_1Polarization.html#95a8c37c9066dd61ba792e040463a2bc" title="returns azimuthal angle in radians">phi</a>() );     <span class="comment">// sets theta keeping mag and phi constant</span>
<a name="l00052"></a>00052         <span class="keywordflow">return</span> outvec;
<a name="l00053"></a>00053     }
<a name="l00054"></a>00054 
<a name="l00055"></a><a class="code" href="classHepMC_1_1Polarization.html#1ca572c6ca88c081cd2bab695e56598a">00055</a>     <span class="keywordtype">double</span> <a class="code" href="classHepMC_1_1Polarization.html#1ca572c6ca88c081cd2bab695e56598a" title="set polar angle in radians">Polarization::set_theta</a>( <span class="keywordtype">double</span> <a class="code" href="classHepMC_1_1Polarization.html#68330a72ac5c150ba8f85e530dec2fe7" title="returns polar angle in radians">theta</a> ) {
<a name="l00058"></a>00058         <span class="keywordflow">return</span> m_theta = valid_theta( theta );
<a name="l00059"></a>00059     }
<a name="l00060"></a>00060 
<a name="l00061"></a><a class="code" href="classHepMC_1_1Polarization.html#53650f88ede1d255c322e8aaa51e0b25">00061</a>     <span class="keywordtype">double</span> <a class="code" href="classHepMC_1_1Polarization.html#53650f88ede1d255c322e8aaa51e0b25" title="set azimuthal angle in radians">Polarization::set_phi</a>( <span class="keywordtype">double</span> <a class="code" href="classHepMC_1_1Polarization.html#95a8c37c9066dd61ba792e040463a2bc" title="returns azimuthal angle in radians">phi</a> ) {
<a name="l00064"></a>00064         <span class="keywordflow">return</span> m_phi = valid_phi( phi );
<a name="l00065"></a>00065     }
<a name="l00066"></a>00066 
<a name="l00067"></a><a class="code" href="classHepMC_1_1Polarization.html#0917abb1267f2b75493c6a618da93877">00067</a>     <span class="keywordtype">void</span> <a class="code" href="classHepMC_1_1Polarization.html#0917abb1267f2b75493c6a618da93877" title="set both polar and azimuthal angles in radians">Polarization::set_theta_phi</a>( <span class="keywordtype">double</span> <a class="code" href="classHepMC_1_1Polarization.html#68330a72ac5c150ba8f85e530dec2fe7" title="returns polar angle in radians">theta</a>, <span class="keywordtype">double</span> <a class="code" href="classHepMC_1_1Polarization.html#95a8c37c9066dd61ba792e040463a2bc" title="returns azimuthal angle in radians">phi</a> ) {
<a name="l00068"></a>00068         <a class="code" href="classHepMC_1_1Polarization.html#1ca572c6ca88c081cd2bab695e56598a" title="set polar angle in radians">set_theta</a>( theta );
<a name="l00069"></a>00069         <a class="code" href="classHepMC_1_1Polarization.html#53650f88ede1d255c322e8aaa51e0b25" title="set azimuthal angle in radians">set_phi</a>( phi ) ;
<a name="l00070"></a>00070     }
<a name="l00071"></a>00071 
<a name="l00072"></a><a class="code" href="classHepMC_1_1Polarization.html#8ddb90fb871fb99a79da89833d9e6a14">00072</a>     <a class="code" href="classHepMC_1_1ThreeVector.html" title="ThreeVector is a simple representation of a position or displacement 3 vector.">ThreeVector</a> <a class="code" href="classHepMC_1_1Polarization.html#8ddb90fb871fb99a79da89833d9e6a14" title="sets polarization according to direction of 3 vec">Polarization::set_normal3d</a>( <span class="keyword">const</span> <a class="code" href="classHepMC_1_1ThreeVector.html" title="ThreeVector is a simple representation of a position or displacement 3 vector.">ThreeVector</a>&amp; vec3in ) {
<a name="l00073"></a>00073         <a class="code" href="classHepMC_1_1Polarization.html#1ca572c6ca88c081cd2bab695e56598a" title="set polar angle in radians">set_theta</a>( vec3in.<a class="code" href="classHepMC_1_1ThreeVector.html#1bc58439858a74e8bd07382254e04ffc" title="The polar angle.">theta</a>() );
<a name="l00074"></a>00074         <a class="code" href="classHepMC_1_1Polarization.html#53650f88ede1d255c322e8aaa51e0b25" title="set azimuthal angle in radians">set_phi</a>( vec3in.<a class="code" href="classHepMC_1_1ThreeVector.html#e4731eb6f2067de016e6226e307d7ab7" title="The azimuth angle.">phi</a>() );
<a name="l00075"></a>00075         <span class="keywordflow">return</span> vec3in;
<a name="l00076"></a>00076     }
<a name="l00077"></a>00077 
<a name="l00079"></a>00079     <span class="comment">// private methods //</span>
<a name="l00081"></a>00081 <span class="comment"></span>
<a name="l00082"></a>00082     <span class="keywordtype">double</span> Polarization::valid_theta( <span class="keywordtype">double</span> <a class="code" href="classHepMC_1_1Polarization.html#68330a72ac5c150ba8f85e530dec2fe7" title="returns polar angle in radians">theta</a> ) {
<a name="l00083"></a>00083         <span class="comment">// this is just absolute value.</span>
<a name="l00084"></a>00084         theta = ( theta&gt;0 ? theta : -theta );
<a name="l00085"></a>00085         <span class="comment">// translate to 0 &lt; theta &lt; 2pi</span>
<a name="l00086"></a>00086         theta = ( theta/(2*<a class="code" href="namespaceHepMC.html#d4b693f470c0d6eae78f2363b2e1c7f9">HepMC_pi</a>) - <span class="keywordtype">int</span>(theta/(2*<a class="code" href="namespaceHepMC.html#d4b693f470c0d6eae78f2363b2e1c7f9">HepMC_pi</a>)) ) 
<a name="l00087"></a>00087                 * 2*<a class="code" href="namespaceHepMC.html#d4b693f470c0d6eae78f2363b2e1c7f9">HepMC_pi</a>;
<a name="l00088"></a>00088         <span class="comment">// now translate to 0 &lt; theta &lt; pi</span>
<a name="l00089"></a>00089         <span class="keywordflow">if</span> ( theta &gt; <a class="code" href="namespaceHepMC.html#d4b693f470c0d6eae78f2363b2e1c7f9">HepMC_pi</a> ) theta = 2*<a class="code" href="namespaceHepMC.html#d4b693f470c0d6eae78f2363b2e1c7f9">HepMC_pi</a> - theta;
<a name="l00090"></a>00090         <span class="keywordflow">return</span> theta;
<a name="l00091"></a>00091     }
<a name="l00092"></a>00092 
<a name="l00093"></a>00093     <span class="keywordtype">double</span> Polarization::valid_phi( <span class="keywordtype">double</span> <a class="code" href="classHepMC_1_1Polarization.html#95a8c37c9066dd61ba792e040463a2bc" title="returns azimuthal angle in radians">phi</a> ) {
<a name="l00094"></a>00094         <span class="comment">//</span>
<a name="l00095"></a>00095         <span class="comment">// translate to -2pi &lt; phi &lt; 2pi</span>
<a name="l00096"></a>00096         phi = ( phi/(2*<a class="code" href="namespaceHepMC.html#d4b693f470c0d6eae78f2363b2e1c7f9">HepMC_pi</a>) - <span class="keywordtype">int</span>(phi/(2*<a class="code" href="namespaceHepMC.html#d4b693f470c0d6eae78f2363b2e1c7f9">HepMC_pi</a>)) ) * 2*<a class="code" href="namespaceHepMC.html#d4b693f470c0d6eae78f2363b2e1c7f9">HepMC_pi</a>;
<a name="l00097"></a>00097         <span class="comment">// translates to 0 &lt; phi &lt; 2pi</span>
<a name="l00098"></a>00098         <span class="keywordflow">if</span> ( phi &lt; 0 ) phi = 2*<a class="code" href="namespaceHepMC.html#d4b693f470c0d6eae78f2363b2e1c7f9">HepMC_pi</a> + phi;
<a name="l00099"></a>00099         <span class="keywordflow">return</span> phi;
<a name="l00100"></a>00100     }
<a name="l00101"></a>00101 
<a name="l00103"></a>00103     <span class="comment">// Friends //</span>
<a name="l00105"></a>00105 <span class="comment"></span>
<a name="l00107"></a><a class="code" href="namespaceHepMC.html#e992143e44a90ea47645573cd6983da9">00107</a>     std::ostream&amp; <a class="code" href="classHepMC_1_1Polarization.html#d180361068be69177f7090c1e0f2ed52" title="print polarization information">operator&lt;&lt;</a>( std::ostream&amp; ostr, <span class="keyword">const</span> <a class="code" href="classHepMC_1_1Polarization.html" title="The Polarization class stores theta and phi for a GenParticle.">Polarization</a>&amp; polar ) {
<a name="l00108"></a>00108         <span class="keywordflow">return</span> ostr &lt;&lt; <span class="stringliteral">"("</span> &lt;&lt; polar.<a class="code" href="classHepMC_1_1Polarization.html#68330a72ac5c150ba8f85e530dec2fe7" title="returns polar angle in radians">theta</a>() 
<a name="l00109"></a>00109                     &lt;&lt; <span class="stringliteral">","</span>  &lt;&lt; polar.<a class="code" href="classHepMC_1_1Polarization.html#95a8c37c9066dd61ba792e040463a2bc" title="returns azimuthal angle in radians">phi</a>() &lt;&lt; <span class="stringliteral">")"</span>;
<a name="l00110"></a>00110     }
<a name="l00111"></a>00111     
<a name="l00112"></a>00112 } <span class="comment">// HepMC</span>
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Tue Oct 23 17:05:35 2007 for HepMC by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-3 </small></address>
</body>
</html>
